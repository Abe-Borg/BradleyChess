
'''
Script for Merging Q-Tables of Chess Moves for Reinforcement Learning Agent

This script merges Q-tables from two different reinforcement learning (RL) agents (one playing as white and the other as black) into a single list of unique chess moves. The resulting list is saved for future use in training the RL agents.

Dependencies:
- pandas
- numpy
- helper_methods
- game_settings
- Bradley
- time

Functions:
    merge_q_tables():
        Merges the Q-tables of the white and black RL agents to create a single list of unique chess moves.
        Returns:
            A pandas Series containing the unique chess moves from both Q-tables.

Main Execution:
    - The script is designed to be run as a standalone program.
    - It merges Q-tables for both white and black pieces and saves the result as a pickle file.
    - Measures the time taken for the merging process.

Function Details:

def merge_q_tables():
    '''
    Merges the Q-tables of the white and black RL agents to create a single list of unique chess moves.

    This function performs the following steps:
    1. Initializes an instance of the Bradley class.
    2. Loads the Q-tables for both white and black RL agents using helper methods.
    3. Prints the initial sizes of the Q-tables.
    4. Extracts the indices (chess moves) from both Q-tables as pandas Series.
    5. Prints the sizes and the first and last 5 entries of the move lists for both white and black pieces.
    6. Merges the two Series into one, dropping any duplicate moves, and resets the index.
    7. Prints the details of the merged Series including its size and some sample entries.
    8. Measures and prints the total time taken for the merging process.
    9. Quits the chess engine to release resources.
    10. Returns the merged Series of unique chess moves.

if __name__ == '__main__':
    try:
        # Calls the merge_q_tables function and saves the resulting merged move list to a pickle file.
        merge_move_list = merge_q_tables()
        merge_move_list.to_pickle(game_settings.unique_chess_moves_list_path, compression='zip')
    except Exception as e:
        print(f'Merge_q_tables failed, interrupted because of: {e}')
        quit()
'''
